webpackJsonp([1],{"/ipA":function(t,e){},"0/ML":function(t,e){},"0yrV":function(t,e){},"1z6K":function(t,e){},"3DIN":function(t,e){},"4iYp":function(t,e){},"5C1a":function(t,e){},"9hRc":function(t,e){},AIxp:function(t,e){},Awfn:function(t,e){},B1g2:function(t,e){},B4PH:function(t,e){},B7Tv:function(t,e){},CFks:function(t,e){},EGCd:function(t,e){},HVf8:function(t,e){},IIXu:function(t,e){},IwA4:function(t,e){},KUll:function(t,e){},LJCz:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n=(i("HVf8"),i("mvHQ")),o=i.n(n),a={add:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=void 0;"string"==typeof e&&(e=e.replace(/[{}\\`'":]/g,"")),""==t||""===e||function(t,e){var i=a.get(t),s=!1;i.length&&i.forEach(function(t,i){t[i]==e&&(s=!0)});return s}(t,e)?console.log(Error("localStorage 保存失败！")):((i=localStorage[t]?JSON.parse(localStorage[t]):[]).push(JSON.parse('{"'+i.length+'":"'+e+'"}')),localStorage[t]=o()(i))},get:function(t){return localStorage[t]?JSON.parse(localStorage[t]):[]},remove:function(t){return!!localStorage[t]&&(localStorage.removeItem(t),!0)}};var r={name:"App",create:function(){this.$router.push({path:"/"})},mounted:function(){a.remove("is_login"),a.get("userid").length?a.add("is_login",!0):a.add("is_login",!1)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")(r,c,!1,function(t){i("RCih")},"data-v-482e0f77",null).exports,d=i("NYxO");s.a.use(d.a);var u=new d.a.Store({strict:!1,state:{items:[],checkoutStatus:null},mutations:{pushItem:function(t,e){var i=!1;t.items.forEach(function(t){e.id==t.id&&(i=!0)}),i||t.items.push({id:e.id,price:e.price,total:e.total})},popItem:function(t,e){t.items.forEach(function(i,s){i.id===e.id&&t.items.splice(s,1)})},incrementItem:function(t,e){t.items.forEach(function(t){t.id===e&&t.total++})},decrementItem:function(t,e){t.items.forEach(function(t){t.id===e&&t.total--})},emptyShopcart:function(t){t.items=[]}},getters:{getItemTotal:function(t,e){return t.items.find(function(t){t.id}).total},getAllItemTotal:function(t){return t.items.length},getSelectedItemPrice:function(t){return t.items.reduce(function(t,e){return t+e.price*e.total},0)}}}),h=i("/ocq"),p={name:"SearchBar",props:{holderWord:{type:String,required:!1,default:"找找看"}},data:function(){return{searchWord:"",isShowClear:!1}},watch:{searchWord:function(t){""!=this.searchWord?this.isShowClear=!0:this.isShowClear=!1}},methods:{clearInput:function(){this.searchWord="",document.querySelector(".search-inputbox").focus()}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t._t("default"),t._v(" "),i("div",{staticClass:"icon-search"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"search-inputbox",attrs:{type:"text",maxlength:"30",placeholder:t.holderWord},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),t._v(" "),i("div",{staticClass:"clear-input",class:{showClear:t.isShowClear},on:{click:t.clearInput}})],2)},staticRenderFns:[]};var f=i("VU/8")(p,m,!1,function(t){i("5C1a")},"data-v-94b9bc52",null).exports,v=i("DNVT"),g=(i("v2ns"),{name:"Swiper",props:{pictures:{type:Array,required:!0},config:{type:Object,default:function(){return{loop:!0,autoplay:!0}}}},mounted:function(){new v.a(".swiper-container",{loop:this.config.loop,autoplay:this.config.autoplay,observer:!0,pagination:{el:".swiper-pagination",bulletActiveClass:"bullet-active",clickable:!0}})}}),_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.pictures,function(e,s){return i("div",{key:s,staticClass:"swiper-slide",on:{click:function(e){return t.$emit("clickSwiperEvent",{index:s})}}},[i("img",{attrs:{src:e}})])}),0),t._v(" "),i("div",{staticClass:"swiper-pagination"})])},staticRenderFns:[]};var w=i("VU/8")(g,_,!1,function(t){i("EGCd")},null,null).exports,C={name:"GroupBox",props:{title:{type:String,required:!0},newstyle:{type:Object}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"group-container",style:t.newstyle},[i("div",{staticClass:"title-container"},[i("div",{staticClass:"border-left"}),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"border-right"})]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var x=i("VU/8")(C,S,!1,function(t){i("SXGd")},"data-v-121f4bb8",null).exports,y={name:"FormatPrice",props:{price:{required:!0},symbolStyle:{type:Object},integerStyle:{type:Object},floatStyle:{type:Object}},filters:{integerPrice:function(t){return t.toString().split(".")[0]},floatPrice:function(t){return void 0==t.toString().split(".")[1]&&(t+=".00"),t.toString().split(".")[1].substring(0,2)}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("span",{style:t.symbolStyle},[t._v("￥")]),t._v(" "),i("span",{staticClass:"integer-price",style:t.integerStyle},[t._v(t._s(t._f("integerPrice")(t.price)))]),t._v(" "),i("span",{style:t.floatStyle},[t._v("."+t._s(t._f("floatPrice")(t.price)))])])},staticRenderFns:[]};var $=i("VU/8")(y,b,!1,function(t){i("tULn")},"data-v-1e5dde66",null).exports,I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container"},[i("router-link",{attrs:{to:{name:"Index"},tag:"li","active-class":"link-active"}},[i("div",{staticClass:"icon icon-index"}),t._v(" "),i("p",[t._v("首页")])]),t._v(" "),i("router-link",{attrs:{to:{name:"Classify"},tag:"li","active-class":"link-active"}},[i("div",{staticClass:"icon icon-classify"}),t._v(" "),i("p",[t._v("分类")])]),t._v(" "),i("router-link",{attrs:{to:{name:"Shopcart"},tag:"li","active-class":"link-active"}},[i("div",{staticClass:"icon icon-shopcart"}),t._v(" "),i("p",[t._v("购物车")])]),t._v(" "),i("router-link",{attrs:{to:{name:"My"},tag:"li","active-class":"link-active"}},[i("div",{staticClass:"icon icon-my"}),t._v(" "),i("p",[t._v(t._s(t.myText))])])],1)])},staticRenderFns:[]};var k=i("VU/8")({name:"NavigationBar",props:{myText:{default:"未登入"}}},I,!1,function(t){i("k6+P")},"data-v-47979d4a",null).exports,L={name:"Home",data:function(){return{headerBarActive:!1,swiperPictures:[],selectionGoods:[],discountsList:[],recommendList:[],myText:"未登入"}},components:{SearchBar:f,Swiper:w,GroupBox:x,FormatPrice:$,NavigationBar:k},methods:{windowScrollAction:function(){window.pageYOffset>10?this.headerBarActive=!0:this.headerBarActive=!1},clickSwiperEventAction:function(t){alert(t.index)},watchGoodsDetail:function(t){this.$router.push({name:"GoodsDetail",params:{id:t}})}},mounted:function(){var t=this;window.addEventListener("scroll",this.windowScrollAction);var e=a.get("is_login");e.length&&JSON.parse(e[0][0])&&(this.myText="我的"),this.axios.get(this.$global.SERVER_IP+"/indexSwiper").then(function(e){t.swiperPictures=e.data}).catch(function(t){console.log(t)}),this.axios.get(this.$global.SERVER_IP+"/selectionGoods").then(function(e){t.selectionGoods=e.data}).catch(function(t){console.log(t)}),this.axios.get(this.$global.SERVER_IP+"/discounts").then(function(e){t.discountsList=e.data}).catch(function(t){console.log(t)}),this.axios.get(this.$global.SERVER_IP+"/recommend").then(function(e){t.recommendList=e.data}).catch(function(t){console.log(t)})}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body-container"},[i("div",{staticClass:"header-bar",class:{header_bar_bgcolor:t.headerBarActive}},[i("div",{staticClass:"classify-link",on:{touchend:function(e){return t.$router.push({name:"Classify"})}}}),t._v(" "),i("div",{staticClass:"search-bar-container",on:{touchend:function(e){return t.$router.push({name:"Search"})}}},[i("search-bar",[i("div",{staticClass:"logo"},[t._v("蔬加")])])],1),t._v(" "),i("div",{staticClass:"login-btn",on:{touchend:function(e){return t.$router.push({name:"My"})}}})]),t._v(" "),i("swiper",{attrs:{pictures:t.swiperPictures},on:{clickSwiperEvent:t.clickSwiperEventAction}}),t._v(" "),i("div",{staticClass:"content-container"},[i("group-box",{attrs:{title:"蔬加精选"}},[i("div",{staticClass:"selection-container"},t._l(t.selectionGoods,function(e,s){return i("div",{key:s,staticClass:"selection-item",on:{click:function(i){return t.watchGoodsDetail(e.id)}}},[i("img",{attrs:{src:e.image}}),t._v(" "),i("p",[t._v(t._s(e.name))]),t._v(" "),i("format-price",{attrs:{price:e.price,integerStyle:{fontSize:".9rem",fontWeight:"normal"}}})],1)}),0)]),t._v(" "),i("group-box",{attrs:{title:"优惠专场"}},[i("div",{staticClass:"discounts"},[i("div",{staticClass:"more-discounts"},[t._v("\n          更多\n          "),i("span",{staticClass:"see-more"})]),t._v(" "),i("div",{staticClass:"discounts-scroll-container"},t._l(t.discountsList,function(e,s){return i("div",{key:s,staticClass:"discounts-item",on:{click:function(i){return t.watchGoodsDetail(e.id)}}},[i("img",{staticClass:"discounts-goods-image",attrs:{src:e.image}}),t._v(" "),i("div",[i("format-price",{staticClass:"discounts-price",staticStyle:{fontWeight:"normal"},attrs:{price:e.currentPrice,symbolStyle:{fontSize:".9rem"},integerStyle:{fontWeight:"normal",fontSize:".9rem"}}}),t._v(" "),i("p",{staticClass:"original-price"},[t._v("￥"+t._s(e.originalPrice))])],1)])}),0)])]),t._v(" "),i("group-box",{attrs:{title:"为您推荐"}},[i("div",{staticClass:"recommend"},t._l(t.recommendList,function(e,s){return i("div",{key:s,staticClass:"recommend-item",on:{click:function(i){return t.watchGoodsDetail(e.id)}}},[i("img",{attrs:{src:e.image}}),t._v(" "),i("p",{staticClass:"goods-name"},[t._v(t._s(e.name))]),t._v(" "),i("format-price",{attrs:{price:e.price,integerStyle:{fontSize:"1rem"}}})],1)}),0)])],1),t._v(" "),i("navigation-bar",{attrs:{myText:t.myText}})],1)},staticRenderFns:[]};var A=i("VU/8")(L,E,!1,function(t){i("1z6K")},"data-v-3aedfb38",null).exports,T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:function(e){return t.$router.back()}}},[i("div",{staticClass:"icon-go-back"})])},staticRenderFns:[]};var D=i("VU/8")({name:"GoBack"},T,!1,function(t){i("zkIZ")},null,null).exports,F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"dropdown-btn",on:{click:this.openDropdownList}})])},staticRenderFns:[]};var B=i("VU/8")({name:"DropdownMenu",data:function(){return{isShowDropdownList:!1}},methods:{openDropdownList:function(){this.isShowDropdownList=!this.isShowDropdownList,this.$emit("openDropdownList",{isShowDropdownList:this.isShowDropdownList})}}},F,!1,function(t){i("rS1E")},"data-v-5e87f34f",null).exports,R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown-container"},[i("div",{staticClass:"menu-arrow"}),t._v(" "),i("div",{staticClass:"item-container"},t._l(t.menuList,function(e,s){return i("div",{key:s,staticClass:"list-item",on:{click:function(i){return t.$router.push({name:e.routeName})}}},[i("div",{staticClass:"item-icon",style:{backgroundImage:"url('"+e.icon+"')"}}),t._v(" "),i("div",[t._v(t._s(e.title))])])}),0)])},staticRenderFns:[]};var V=i("VU/8")({name:"DropdownList",data:function(){return{menuList:[{title:"首页",icon:"../../../static/icon/menu-home.png",routeName:"Index"},{title:"分类",icon:"../../../static/icon/menu-classify.png",routeName:"Classify"},{title:"购物车",icon:"../../../static/icon/menu-shopcart.png",routeName:"Shopcart"},{title:"我的蔬加",icon:"../../../static/icon/menu-my.png",routeName:"My"},{title:"浏览足迹",icon:"../../../static/icon/menu-browse-record.png",routeName:""}]}}},R,!1,function(t){i("LJCz")},"data-v-6af0883e",null).exports,P={name:"ItemRadio",props:{itemId:{type:Number,default:0}},data:function(){return{isSelected:!1}},methods:{selectedRadioAction:function(){this.isSelected=!this.isSelected,this.$emit("itemSelection",{isSelected:this.isSelected,id:this.itemId})}}},N={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"radio",class:{selectedRadio:this.isSelected},on:{click:this.selectedRadioAction}})},staticRenderFns:[]};var G=i("VU/8")(P,N,!1,function(t){i("pLQW")},"data-v-c6fcf410",null).exports,U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"controller-slide"},[i("div",{staticClass:"decrement",class:{disableDecrement:t.decrementEnable},on:{click:t.decrement}}),t._v(" "),i("div",{staticClass:"count"},[t._v(t._s(t.count))]),t._v(" "),i("div",{staticClass:"increment",on:{click:t.increment}})])},staticRenderFns:[]};var O=i("VU/8")({name:"NumberControl",props:{value:{required:!0},minValue:{default:0}},data:function(){return{count:0,decrementEnable:!1}},methods:{decrement:function(){this.count<=this.minValue||(this.count-1<=0&&(this.decrementEnable=!1),this.$emit("valueChange",{newvalue:--this.count,increment:!1}))},increment:function(){this.decrementEnable=!0,this.$emit("valueChange",{newvalue:++this.count,increment:!0})}},mounted:function(){this.count=this.value,this.count>0&&(this.decrementEnable=!0)}},U,!1,function(t){i("KUll")},"data-v-df14ecc6",null).exports,W={name:"GoodsItem",props:{goods:{type:Object,required:!0}},components:{FormatPrice:$,NumberControl:O},data:function(){return{isSelected:!1}},methods:{itemSelectAction:function(t){this.isSelected=t.isSelected},openGoodsDetail:function(){this.$router.push({name:"GoodsDetail",params:{id:this.goods.id}})},valueChangeAction:function(t){t.itemId=this.goods.id,this.goods.total=t.newvalue,this.$emit("valueChange",t),console.log(t)}}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body-container"},[i("img",{staticClass:"goods-image",attrs:{src:t.goods.image},on:{click:t.openGoodsDetail}}),t._v(" "),i("div",[i("p",{staticClass:"goods-name",on:{click:t.openGoodsDetail}},[t._v(t._s(t.goods.name))]),t._v(" "),i("div",{staticClass:"total-controller"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("format-price",{staticStyle:{fontSize:"1rem"},attrs:{price:t.goods.price,integerStyle:{fontWeight:"normal"}}}),t._v(" "),i("span",{staticClass:"goods-standard"},[t._v("/ "+t._s(t.goods.standard))])],1),t._v(" "),i("number-control",{staticClass:"number-control",attrs:{value:t.goods.total,minValue:1},on:{valueChange:t.valueChangeAction}})],1)])])},staticRenderFns:[]};var M=i("VU/8")(W,q,!1,function(t){i("on4Y")},"data-v-5b8d447d",null).exports,J={name:"SettlementBar",props:{price:{default:0},showPrice:{default:!0},showTotal:{default:!0}},components:{FormatPrice:$},computed:{getAllItemTotal:function(){return this.$store.getters.getAllItemTotal}},data:function(){return{showPriceSlide:this.showPrice}}},z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom-slide"},[i("div",{staticClass:"shopcart-total"},[i("div",{staticClass:"shopcart-icon"}),t._v(" "),t.showTotal?i("span",{staticClass:"goods-count"},[t._v(t._s(t.getAllItemTotal))]):t._e()]),t._v(" "),t.showPrice?i("div",{staticClass:"total-slide"},[i("p",[t._v("总计：")]),t._v(" "),i("format-price",{attrs:{price:t.price}})],1):t._e(),t._v(" "),i("div",{staticClass:"go-shopcart"},[t._t("default")],2)])},staticRenderFns:[]};var j=i("VU/8")(J,z,!1,function(t){i("B1g2")},"data-v-3c35697b",null).exports,H={name:"DefaultButton",props:{text:{type:String,required:!0}}},Y={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"default-btn",on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.text))])},staticRenderFns:[]};var X=i("VU/8")(H,Y,!1,function(t){i("rO9z")},null,null).exports,K={name:"SuccessButton",props:{text:{type:String,required:!0}},components:{DefaultButton:X}},Q={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("default-button",{attrs:{text:t.text},on:{click:function(e){return t.$emit("click")}}})},staticRenderFns:[]};var Z=i("VU/8")(K,Q,!1,function(t){i("/ipA")},"data-v-7394f2bc",null).exports,tt={name:"BaseBox",props:{message:{type:String,required:!0}}},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cover-layout"},[e("div",{staticClass:"body-container"},[e("div",{staticClass:"message"},[this._v(this._s(this.message))]),this._v(" "),e("div",[this._t("default")],2)])])},staticRenderFns:[]};var it=i("VU/8")(tt,et,!1,function(t){i("aJ8p")},"data-v-17df12d2",null).exports,st={name:"AlertBox",props:{message:{type:String,required:!0}},components:{BaseBox:it,DefaultButton:X}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("base-box",{attrs:{message:t.message}},[i("default-button",{staticClass:"btn-confirm",attrs:{text:"确定"},on:{click:function(e){return t.$emit("click")}}})],1)],1)},staticRenderFns:[]};var ot=i("VU/8")(st,nt,!1,function(t){i("t2e1")},"data-v-0ccb52b6",null).exports,at={name:"Shopcart",components:{GoBack:D,DropdownMenu:B,DropdownList:V,ItemRadio:G,GoodsItem:M,SettlementBar:j,SuccessButton:Z,AlertBox:ot},data:function(){return{showDropdownList:!1,showDeleteSlide:!1,showTipsBox:!1,isSelected:!1,isAllSelected:!1,goodsList:[]}},computed:{getSelectedItemPrice:function(){return this.$store.getters.getSelectedItemPrice}},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList},itemSelectAction:function(t){var e=this.$options.methods,i=this.$refs.goodsItem.find(function(e){return t.id===e.goods.id}).goods;this.isSelected=t.isSelected,e.hasAllSelected.bind(this)()?this.$refs.allSelect.isSelected=!0:this.$refs.allSelect.isSelected=!1,t.isSelected?e.selectedItem.bind(this)(i):e.unselectItem.bind(this)(i)},allSelectAction:function(t){this.isAllSelected=t.isSelected,this.isAllSelected?this.$options.methods.selectedAllItem.bind(this)():this.$options.methods.unselectAllItem.bind(this)()},valueChangeAction:function(t){t.increment?this.$store.commit("incrementItem",t.itemId):this.$store.commit("decrementItem",t.itemId)},openDeleteAction:function(){this.showDeleteSlide=!0},confirmDeleteAction:function(){var t=this,e=[];this.showDeleteSlide=!1,this.$refs.allSelect.isSelected=!1,this.$store.commit("emptyShopcart"),this.$refs.itemRadio.forEach(function(t){t.isSelected&&e.push(t.itemId),t.isSelected=!1}),this.axios.delete(this.$global.SERVER_IP+"/deleteShopcartGoods",{idGroup:e,userId:a.get("userid")[0][0]}).then(function(e){t.$options.methods.getShopcartGoodsList.bind(t)(),console.log(e.config.idGroup.toString())}).catch(function(t){console.log(t)})},cancelDeleteAction:function(){this.showDeleteSlide=!1,this.$refs.itemRadio.forEach(function(t){t.isSelected=!1}),this.$refs.allSelect.isSelected=!1,this.$store.commit("emptyShopcart")},hasAllSelected:function(){var t=!0;return this.$refs.itemRadio.forEach(function(e){e.isSelected||(t=!1)}),t},selectedItem:function(t){this.$store.commit("pushItem",t)},unselectItem:function(t){this.$store.commit("popItem",t)},selectedAllItem:function(){var t=this,e=this;this.$refs.itemRadio.forEach(function(t){t.isSelected=!0}),this.$store.commit("emptyShopcart"),this.goodsList.forEach(function(i){e.$options.methods.selectedItem.bind(t)(i)})},unselectAllItem:function(){this.$refs.itemRadio.forEach(function(t){t.isSelected=!1}),this.$store.commit("emptyShopcart")},getShopcartGoodsList:function(){var t=this;this.axios.get(this.$global.SERVER_IP+"/shopcart/"+a.get("userid")[0][0]).then(function(e){t.goodsList=e.data}).catch(function(t){console.log(t)})}},mounted:function(){var t=a.get("is_login");t.length&&JSON.parse(t[0][0])?(this.$store.commit("emptyShopcart"),this.getShopcartGoodsList()):this.$router.push({path:"/login"})}},rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("p",{staticClass:"window-title"},[t._v("购物车")]),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("div",{staticClass:"list-container"},[i("div",{staticClass:"control-bar"},[i("div",{staticStyle:{display:"flex"}},[i("item-radio",{ref:"allSelect",staticClass:"all-select-radio",on:{itemSelection:t.allSelectAction}}),t._v(" "),i("p",{on:{click:t.allSelectAction}},[t._v("全选")])],1),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.showDeleteSlide,expression:"!showDeleteSlide"}],on:{click:t.openDeleteAction}},[t._v("快速删除")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDeleteSlide,expression:"showDeleteSlide"}],staticClass:"delete-slide"},[i("div",{on:{click:t.confirmDeleteAction}},[t._v("确定删除")]),t._v(" "),i("div",{on:{click:t.cancelDeleteAction}},[t._v("取消")])])]),t._v(" "),t._l(t.goodsList,function(e,s){return i("div",{key:s,staticClass:"item-container"},[i("item-radio",{ref:"itemRadio",refInFor:!0,staticClass:"item-radio",attrs:{itemId:e.id},on:{itemSelection:t.itemSelectAction}}),t._v(" "),i("goods-item",{ref:"goodsItem",refInFor:!0,staticClass:"goods-item",attrs:{goods:e},on:{valueChange:t.valueChangeAction}})],1)})],2),t._v(" "),i("settlement-bar",{attrs:{price:t.getSelectedItemPrice}},[i("success-button",{staticClass:"go-settlement",attrs:{text:"去结算"},on:{click:function(e){t.showTipsBox=!t.showTipsBox}}})],1),t._v(" "),i("alert-box",{directives:[{name:"show",rawName:"v-show",value:t.showTipsBox,expression:"showTipsBox"}],attrs:{message:"等待接入支付接口"},on:{click:function(e){t.showTipsBox=!t.showTipsBox}}}),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}],staticClass:"dropdown-list"})],1)},staticRenderFns:[]};var ct=i("VU/8")(at,rt,!1,function(t){i("IwA4")},"data-v-ffc111de",null).exports,lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"container-box"},[this._t("default")],2)},staticRenderFns:[]};var dt={name:"My",data:function(){return{showDropdownList:!1,myText:"未登入",userInfor:{picture:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=188149577,2949073731&fm=27&gp=0.jpg"}}},components:{NavigationBar:k,GoBack:D,DropdownList:V,DropdownMenu:B,ContainerBox:i("VU/8")({name:"ContainerBox"},lt,!1,function(t){i("qZHD")},"data-v-6cacc70f",null).exports},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList}},mounted:function(){var t=this,e=a.get("is_login");e.length&&JSON.parse(e[0][0])?(this.myText="我的",this.axios.get(this.$global.SERVER_IP+"/userInformation/"+a.get("userid")[0][0]).then(function(e){t.userInfor=e.data}).catch(function(t){console.log(t)})):this.$router.push({path:"/login"})}},ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("p",{staticClass:"window-title"},[t._v("我的蔬加")]),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("div",{staticClass:"body-container"},[i("container-box",[i("div",{staticClass:"user-information-slide"},[i("img",{staticClass:"user-picture",attrs:{src:t.userInfor.picture}}),t._v(" "),i("div",[i("p",{staticClass:"user-nickname"},[t._v(t._s(t.userInfor.nickname))]),t._v(" "),i("p",{staticClass:"user-intro"},[t._v(t._s(t.userInfor.introduce))])]),t._v(" "),i("div",{staticClass:"setting-slide"},[i("div",{staticClass:"icon-setting"}),t._v(" "),i("div",{staticStyle:{color:"#801F18","font-size":".8rem"},on:{click:function(e){return t.$router.push({name:"UserCenter"})}}},[t._v("个人中心")])])])]),t._v(" "),i("container-box",{staticClass:"component-slide"},[i("div",{staticClass:"component-slide-item"},[i("div",{staticClass:"icon-common icon-wait-pay"}),t._v(" "),i("p",[t._v("待付款")])]),t._v(" "),i("div",{staticClass:"component-slide-item"},[i("div",{staticClass:"icon-common icon-wait-receipt"}),t._v(" "),i("p",[t._v("待收货")])]),t._v(" "),i("div",{staticClass:"component-slide-item"},[i("div",{staticClass:"icon-common icon-all-order"}),t._v(" "),i("p",[t._v("全部订单")])])])],1),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]}),t._v(" "),i("navigation-bar",{attrs:{myText:t.myText}})],1)},staticRenderFns:[]};var ht=i("VU/8")(dt,ut,!1,function(t){i("ecIi")},"data-v-34346c8b",null).exports,pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field-container",style:t.containerStyle},["checkbox"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputFieldText,expression:"inputFieldText"}],staticClass:"input-box",attrs:{placeholder:t.holderText,disabled:t.disabled,type:"checkbox"},domProps:{checked:Array.isArray(t.inputFieldText)?t._i(t.inputFieldText,null)>-1:t.inputFieldText},on:{change:function(e){var i=t.inputFieldText,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(t.inputFieldText=i.concat([null])):o>-1&&(t.inputFieldText=i.slice(0,o).concat(i.slice(o+1)))}else t.inputFieldText=n}}}):"radio"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputFieldText,expression:"inputFieldText"}],staticClass:"input-box",attrs:{placeholder:t.holderText,disabled:t.disabled,type:"radio"},domProps:{checked:t._q(t.inputFieldText,null)},on:{change:function(e){t.inputFieldText=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputFieldText,expression:"inputFieldText"}],staticClass:"input-box",attrs:{placeholder:t.holderText,disabled:t.disabled,type:t.type},domProps:{value:t.inputFieldText},on:{input:function(e){e.target.composing||(t.inputFieldText=e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showClearOption,expression:"showClearOption"}],staticClass:"clear-input-field",on:{click:function(e){t.inputFieldText=""}}}),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var mt=i("VU/8")({name:"InputField",props:{type:{default:"text"},holderText:{},disabled:{default:!1},containerStyle:{}},data:function(){return{inputFieldText:"",showClearOption:!1}},watch:{inputFieldText:function(t){this.showClearOption=!!t,this.$emit("valueChange",{value:this.inputFieldText})}}},pt,!1,function(t){i("ofsJ")},"data-v-6e7cae3c",null).exports,ft={name:"Login",components:{DefaultButton:X,DropdownList:V,DropdownMenu:B,InputField:mt},data:function(){return{showDropdownList:!1,isOpenEye:!1,enableLoginBtn:!1,loginBtnText:"登入",passwordType:"password"}},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList},changeTextType:function(){this.isOpenEye=!this.isOpenEye,this.isOpenEye?this.passwordType="text":this.passwordType="password"},accountValueChange:function(t){this.enableLoginBtn=this.$options.methods.hasFillInAll.bind(this)()},passwordValueChange:function(t){this.enableLoginBtn=this.$options.methods.hasFillInAll.bind(this)()},hasFillInAll:function(){return!(!this.$refs.accountField.inputFieldText||!this.$refs.passwordField.inputFieldText)},loginEventAction:function(){var t=this;this.$options.methods.hasFillInAll.bind(this)()&&(this.enableLoginBtn=!1,this.loginBtnText="登入中....",this.axios.post(this.$global.SERVER_IP+"/login",{account:this.$refs.accountField.inputFieldText,password:this.$refs.passwordField.inputFieldText}).then(function(e){var i=e.data;200==i.code?(a.add("userid",i.data.userid),a.add("token",i.data.token),a.remove("is_login"),a.add("is_login",!0),t.$router.back()):(t.enableLoginBtn=!0,t.loginBtnText="登入"),console.log(i)}).catch(function(t){console.log(t)}))}}},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("div",{staticClass:"go-back",staticStyle:{width:"1.2rem"}}),t._v(" "),i("p",{staticClass:"window-title"},[t._v("登入蔬加")]),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("div",{staticClass:"login-container"},[i("div",{staticClass:"app-logo"}),t._v(" "),i("input-field",{ref:"accountField",staticClass:"input-field",attrs:{holderText:"邮箱/已验证手机"},on:{valueChange:t.accountValueChange}}),t._v(" "),i("input-field",{ref:"passwordField",staticClass:"input-field",attrs:{type:t.passwordType,holderText:"请输入密码"},on:{valueChange:t.passwordValueChange}},[i("div",{staticStyle:{display:"flex"}},[i("div",{staticClass:"close-eye",class:{openEye:t.isOpenEye},on:{click:t.changeTextType}}),t._v(" "),i("div",{staticClass:"forget-password"},[t._v("忘记密码")])])]),t._v(" "),i("default-button",{staticClass:"login-btn",class:{enableLoginBtn:t.enableLoginBtn},attrs:{text:t.loginBtnText},on:{click:t.loginEventAction}}),t._v(" "),i("default-button",{staticClass:"register-btn",attrs:{text:"注册账号"},on:{click:function(e){return t.$router.push({path:"/register"})}}})],1),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]})],1)},staticRenderFns:[]};var gt=i("VU/8")(ft,vt,!1,function(t){i("0/ML")},"data-v-410d33db",null).exports,_t=i("gBtx"),wt=i.n(_t),Ct={name:"CheckPhone",components:{InputField:mt,DefaultButton:X},data:function(){return{enableNextStep:!1,hasGetVerifyCode:!0,getVerifyCodeText:"获取验证码"}},methods:{valueChangeAction:function(t){this.enableNextStep=this.$options.methods.hasFillInAll.bind(this)()},hasFillInAll:function(){var t=this.$refs.phoneField.inputFieldText;return!(!this.$options.methods.hasPhoneNumber.bind(this)(t)||!this.$refs.verifyField.inputFieldText)},getVerifyCode:function(){var t=this.$refs.phoneField.inputFieldText;this.$options.methods.hasPhoneNumber.bind(this)(t)&&this.hasGetVerifyCode&&(this.hasGetVerifyCode=!1,a.remove("wait_verify_code"),a.add("wait_verify_code",90),this.$options.methods.getVerifyCodeClock.bind(this)(),this.axios.post(this.$global.SERVER_IP+"/getPhoneVerifyCode",{phone:t}).then(function(t){console.log(t.data.message)}).catch(function(t){console.log(t)}))},hasPhoneNumber:function(t){return!!/^1[34578]\d{9}$/.test(t)},getVerifyCodeClock:function(){var t=this,e=wt()(a.get("wait_verify_code")[0][0]),i=setInterval(function(){e>0?(a.remove("wait_verify_code"),a.add("wait_verify_code",--e),t.getVerifyCodeText=e+"秒后可获取"):(t.hasGetVerifyCode=!0,t.getVerifyCodeText="获取验证码",clearInterval(i))},1e3)},nextStepAction:function(){this.enableNextStep&&(sessionStorage.phone=this.$refs.phoneField.inputFieldText,this.$emit("nextStep"))}},mounted:function(){this.getVerifyCodeClock()}},St={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"app-logo"}),t._v(" "),i("input-field",{ref:"phoneField",staticClass:"input-field",attrs:{holderText:"请输入手机号（暂支持大陆手机号）"},on:{valueChange:t.valueChangeAction}}),t._v(" "),i("input-field",{ref:"verifyField",staticClass:"input-field",attrs:{holderText:"请输入验证码"},on:{valueChange:t.valueChangeAction}},[i("div",{staticClass:"get-verify-code",on:{click:t.getVerifyCode}},[t._v(t._s(t.getVerifyCodeText))])]),t._v(" "),i("default-button",{staticClass:"next-step-btn",class:{enableNextStepBtn:t.enableNextStep},attrs:{text:"下一步"},on:{click:t.nextStepAction}})],1)},staticRenderFns:[]};var xt={name:"FillInformation",components:{InputField:mt,DefaultButton:X},data:function(){return{enableRegister:!1,hasShowPassword:!1,hasShowConfirmPassword:!1,passwordType:"password",confirmPasswordType:"password",confirmContainerStyle:{}}},computed:{phoneNumber:function(){return sessionStorage.phone}},methods:{changePasswordType:function(){this.hasShowPassword=!this.hasShowPassword,this.hasShowPassword?this.passwordType="text":this.passwordType="password"},changeConfirmPasswordType:function(){this.hasShowConfirmPassword=!this.hasShowConfirmPassword,this.hasShowConfirmPassword?this.confirmPasswordType="text":this.confirmPasswordType="password"},valueChangeAction:function(t){this.enableRegister=this.$options.methods.hasFillInAll.bind(this)()},registerAction:function(){var t=this;this.$options.methods.hasFillInAll.bind(this)()&&this.enableRegister&&this.axios.post(this.$global.SERVER_IP+"/register",{password:this.$refs.password.inputFieldText,nickname:this.$refs.nickname.inputFieldText,email:this.$refs.email.inputFieldText}).then(function(e){200==e.data.code&&t.$router.push({path:"/login"})}).catch(function(t){console.log(t)})},hasFillInAll:function(){var t=this.$refs;return!!(t.password.inputFieldText&&t.confirmPassword.inputFieldText&&t.nickname.inputFieldText&&t.email.inputFieldText&&this.$options.methods.hasEqualsPassword.bind(this)())},hasEqualsPassword:function(){return this.$refs.password.inputFieldText===this.$refs.confirmPassword.inputFieldText?(this.confirmContainerStyle={borderBottom:"solid 1px #efefef"},!0):(this.confirmContainerStyle={borderBottom:"solid 2px #DD5044"},!1)}}},yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input-field",{staticClass:"input-field",attrs:{holderText:t.phoneNumber,disabled:!0}}),t._v(" "),i("input-field",{ref:"password",staticClass:"input-field",attrs:{type:t.passwordType,holderText:"账户密码"},on:{valueChange:t.valueChangeAction}},[i("div",{staticClass:"close-eye",class:{openEye:t.hasShowPassword},on:{click:t.changePasswordType}})]),t._v(" "),i("input-field",{ref:"confirmPassword",staticClass:"input-field",style:t.confirmContainerStyle,attrs:{type:t.confirmPasswordType,holderText:"确认密码"},on:{valueChange:t.valueChangeAction}},[i("div",{staticClass:"close-eye",class:{openEye:t.hasShowConfirmPassword},on:{click:t.changeConfirmPasswordType}})]),t._v(" "),i("input-field",{ref:"nickname",staticClass:"input-field",attrs:{holderText:"账户昵称"},on:{valueChange:t.valueChangeAction}}),t._v(" "),i("input-field",{ref:"email",staticClass:"input-field",attrs:{holderText:"电子邮箱"},on:{valueChange:t.valueChangeAction}}),t._v(" "),i("default-button",{staticClass:"register-btn",class:{enableRegister:t.enableRegister},attrs:{text:"注册"},on:{click:t.registerAction}})],1)},staticRenderFns:[]};var bt={name:"Register",components:{GoBack:D,CheckPhone:i("VU/8")(Ct,St,!1,function(t){i("IIXu")},"data-v-fb6eabcc",null).exports,FillInformation:i("VU/8")(xt,yt,!1,function(t){i("0yrV")},"data-v-6bac52aa",null).exports},data:function(){return{hasPassPhoneVerify:!1}},methods:{nextStepAction:function(){this.hasPassPhoneVerify=!0}}},$t={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"header-bar"},[e("go-back",{staticClass:"go-back"}),this._v(" "),e("p",{staticClass:"window-title"},[this._v("注册账号")]),this._v(" "),e("div",{staticClass:"go-back",staticStyle:{width:"1.2rem"}})],1),this._v(" "),e("div",{staticClass:"register-container"},[this.hasPassPhoneVerify?e("fill-information"):e("check-phone",{on:{nextStep:this.nextStepAction}})],1)])},staticRenderFns:[]};var It=i("VU/8")(bt,$t,!1,function(t){i("V1O7")},"data-v-28922b0d",null).exports,kt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"container"},[e("div",{staticStyle:{flex:"1"}},[this._t("default")],2),this._v(" "),this.showMore?e("div",{staticClass:"see-more"}):this._e()])])},staticRenderFns:[]};var Lt={name:"UserCenter",components:{GoBack:D,DropdownList:V,DropdownMenu:B,InformationItem:i("VU/8")({name:"InformationItem",props:{showMore:{default:!0}}},kt,!1,function(t){i("jqJo")},"data-v-26be334e",null).exports},data:function(){return{showDropdownList:!1,userData:{}}},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList},logoutAction:function(){a.remove("userid"),a.remove("token"),a.remove("is_login"),this.$router.push({name:"My"})}},mounted:function(){var t=this;this.$global.isLogin()||this.$router.push({name:"Login"}),this.axios.get(this.$global.SERVER_IP+"/userInformation/"+a.get("userid")[0][0]).then(function(e){t.userData=e.data}).catch(function(t){console.log(t)})}},Et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("p",{staticClass:"window-title"},[t._v("个人中心")]),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("div",{staticClass:"body-container"},[i("information-item",{staticClass:"information-container",attrs:{showMore:!1}},[i("div",{staticClass:"user-information"},[i("img",{staticClass:"user-picture",attrs:{src:t.userData.picture}}),t._v(" "),i("div",[i("p",{staticClass:"nickname"},[t._v(t._s(t.userData.nickname))]),t._v(" "),i("p",{staticClass:"introduce"},[t._v(t._s(t.userData.introduce))])])])]),t._v(" "),i("information-item",[i("p",{staticClass:"standard-text"},[t._v("修改密码")])]),t._v(" "),i("information-item",[i("p",{staticClass:"standard-text"},[t._v("修改昵称")])]),t._v(" "),i("information-item",[i("p",{staticClass:"standard-text"},[t._v("更换头像")])]),t._v(" "),i("information-item",[i("p",{staticClass:"standard-text"},[t._v("修改个性签名")])]),t._v(" "),i("information-item",{attrs:{showMore:!1}},[i("p",{staticClass:"standard-text",on:{click:t.logoutAction}},[t._v("退出登录")])])],1),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]})],1)},staticRenderFns:[]};var At=i("VU/8")(Lt,Et,!1,function(t){i("CFks")},"data-v-c0c52936",null).exports,Tt={name:"ScrollItem",props:{text:{type:String,required:!0},index:{type:Number,required:!0},direct:{type:String,default:"row"}},data:function(){return{active:!1,direction:!1}},methods:{touchItemEventAction:function(){this.$emit("clearItemActive"),this.$emit("clickItemEvent",{id:this.index}),this.active=!0},setActiveStatus:function(){1==this.index&&(this.active=!0)}},mounted:function(){"row"!=this.direct&&(this.direction=!0)}},Dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.direction?i("div",{staticClass:"item",class:{columnActive:t.active},on:{click:t.touchItemEventAction}},[t._v(t._s(t.text))]):i("div",{staticClass:"item rowItem",class:{rowActive:t.active},on:{click:t.touchItemEventAction}},[t._v(t._s(t.text))])])},staticRenderFns:[]};var Ft=i("VU/8")(Tt,Dt,!1,function(t){i("Xxj6")},"data-v-2d2aedf4",null).exports,Bt={name:"ScrollBar",props:{itemList:{type:Array,required:!0},direct:{type:String,default:"row"}},components:{ScrollItem:Ft},data:function(){return{directed:{flexDirection:"row"}}},methods:{clearItemActiveAction:function(){void 0!==this.$refs.scrollItem&&this.$refs.scrollItem.forEach(function(t){t.active=!1})},clickItemEventAction:function(t){this.$emit("clickItemEvent",t)},setActiveStatus:function(){this.$refs.scrollItem.forEach(function(t){t.setActiveStatus()})},setActivatedItem:function(t){void 0!==this.$refs.scrollItem&&this.$refs.scrollItem.forEach(function(e,i){t-1===i&&(e.active=!0)})}},mounted:function(){"row"!=this.direct&&(this.directed.flexDirection="column")}},Rt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scroll-container",style:t.directed},t._l(t.itemList,function(e,s){return i("scroll-item",{key:s,ref:"scrollItem",refInFor:!0,attrs:{text:e.name,index:s+1,direct:t.direct},on:{clearItemActive:t.clearItemActiveAction,clickItemEvent:t.clickItemEventAction}})}),1)])},staticRenderFns:[]};var Vt=i("VU/8")(Bt,Rt,!1,function(t){i("Awfn")},"data-v-21ceeffa",null).exports,Pt={name:"GoodsItem",props:{goods:{type:Object,required:!0}},methods:{itemClickEventAction:function(){a.add("history_search",this.goods.name),this.$router.push({name:"SearchResult",params:{searchWord:this.goods.name}})}}},Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"result-item-container",on:{click:this.itemClickEventAction}},[e("img",{staticClass:"picture",attrs:{src:this.goods.image}}),this._v(" "),e("p",{staticClass:"item-name"},[this._v(this._s(this.goods.name))])])},staticRenderFns:[]};var Gt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"loading-layout"},[e("div",{staticClass:"loading-panel"})])])}]};var Ut={name:"Classify",components:{GoBack:D,SearchBar:f,DropdownMenu:B,DropdownList:V,NavigationBar:k,ScrollBar:Vt,GoodsItem:i("VU/8")(Pt,Nt,!1,function(t){i("zODf")},"data-v-ede43012",null).exports,Loading:i("VU/8")({name:"Loading"},Gt,!1,function(t){i("O38C")},"data-v-137c2da0",null).exports},data:function(){return{showDropdownList:!1,myText:"未登入",isFirstLoad:!1,isShowLoading:!1,currentFirstLevelId:1,firstLevelClassify:[],secondLevelClassify:[],threeLevelClassify:[]}},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList},rowItemBarEventAction:function(t){this.$options.methods.getSecondLevelClassify.bind(this)(t.id)},columnItemBarEventAction:function(t){this.$options.methods.getThreeLevelClassify.bind(this)(t.id)},confirmAction:function(){this.showAlertBox=!1},getSecondLevelClassify:function(t){var e=this;this.axios.get(this.$global.SERVER_IP+"/secondLevelClassify/"+t).then(function(i){e.currentFirstLevelId=t,e.secondLevelClassify=i.data,e.$refs.columnScrollBar.clearItemActiveAction(),e.$options.methods.getThreeLevelClassify.bind(e)(1),e.$refs.columnScrollBar.setActivatedItem(1)}).catch(function(t){console.log(t)})},getThreeLevelClassify:function(t){var e=this;this.isShowLoading=!0,this.axios.get(this.$global.SERVER_IP+"/threeLevelClassify/"+this.currentFirstLevelId+"/"+t).then(function(t){e.threeLevelClassify=t.data,e.isShowLoading=!1,e.isFirstLoad||(e.$refs.rowScrollBar.setActiveStatus(),e.$refs.columnScrollBar.setActiveStatus(),e.isFirstLoad=!0)}).catch(function(t){console.log(t)})}},mounted:function(){var t=this,e=a.get("is_login");e.length&&JSON.parse(e[0][0])&&(this.myText="我的"),a.remove("scroll_position"),this.axios.get(this.$global.SERVER_IP+"/firstLevelClassify").then(function(e){t.firstLevelClassify=e.data}).catch(function(t){console.log(t)}),this.getSecondLevelClassify(1)}},Ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body-container"},[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("div",{staticStyle:{flex:"1"},on:{touchend:function(e){return t.$router.push({name:"Search"})}}},[i("search-bar")],1),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("div",[i("div",{staticClass:"scroll-bar-top"},[i("scroll-bar",{ref:"rowScrollBar",attrs:{itemList:t.firstLevelClassify},on:{clickItemEvent:t.rowItemBarEventAction}})],1),t._v(" "),i("div",{ref:"scrollBarLeft",staticClass:"scroll-bar-left"},[i("scroll-bar",{ref:"columnScrollBar",attrs:{itemList:t.secondLevelClassify,direct:"column"},on:{clickItemEvent:t.columnItemBarEventAction}})],1),t._v(" "),i("div",{staticClass:"classify-result"},t._l(t.threeLevelClassify,function(t,e){return i("goods-item",{key:e,staticClass:"result-item",attrs:{goods:t}})}),1)]),t._v(" "),i("div",{staticClass:"navigation-bar"},[i("navigation-bar",{attrs:{myText:t.myText}})],1),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoading,expression:"isShowLoading"}]}),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]})],1)},staticRenderFns:[]};var Wt=i("VU/8")(Ut,Ot,!1,function(t){i("AIxp")},"data-v-205c9e1f",null).exports,qt={name:"ErrorButton",props:{text:{type:String,required:!0}},components:{DefaultButton:X}},Mt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("default-button",{attrs:{text:t.text},on:{click:function(e){return t.$emit("click")}}})},staticRenderFns:[]};var Jt=i("VU/8")(qt,Mt,!1,function(t){i("9hRc")},"data-v-b8bc4022",null).exports,zt={name:"ConfirmBox",props:{message:{type:String,required:!0}},components:{BaseBox:it,DefaultButton:X,ErrorButton:Jt},methods:{cancelClickAction:function(){this.$emit("confirmBoxEvent",{choose:!1})},confirmClickAction:function(){this.$emit("confirmBoxEvent",{choose:!0})}}},jt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("base-box",{attrs:{message:this.message}},[e("div",{staticClass:"btn-group"},[e("default-button",{staticClass:"btn-cancel",attrs:{text:"取消"},on:{click:this.cancelClickAction}}),this._v(" "),e("error-button",{staticClass:"btn-confirm",attrs:{text:"确定"},on:{click:this.confirmClickAction}})],1)])],1)},staticRenderFns:[]};var Ht={name:"Index",data:function(){return{historySearch:[],showConfirmBox:!1,hotSearch:[],searchRecommend:""}},components:{GoBack:D,SearchBar:f,AlertBox:ot,ConfirmBox:i("VU/8")(zt,jt,!1,function(t){i("B4PH")},"data-v-417a410e",null).exports,SuccessButton:Z},computed:{filterSearchWord:function(){var t=this;return this.historySearch.forEach(function(e,i){""==e[i]&&t.historySearch.splice(i,1)}),this.historySearch}},methods:{searchBtnClickAction:function(){var t=this.$refs.searchBar.searchWord.trim();t||(t=this.$refs.searchBar.holderWord),a.remove("scroll_position"),a.add("history_search",t),this.historySearch=a.get("history_search").reverse(),this.$router.push({name:"SearchResult",params:{searchWord:t}})},historyItemTouchAction:function(t,e){a.remove("scroll_position"),this.$router.push({name:"SearchResult",params:{searchWord:t[this.historySearch.length-e-1]}})},clearHistoryBtnTouchAction:function(){this.showConfirmBox=!0},confirmBoxEventAction:function(t){t.choose&&(a.remove("history_search"),this.historySearch=a.get("history_search")),this.showConfirmBox=!1}},mounted:function(){var t=this;this.axios.get(this.$global.SERVER_IP+"/hotSearch").then(function(e){t.hotSearch=e.data,t.searchRecommend=t.hotSearch[0]}).catch(function(t){console.log(t)}),void 0!=this.$route.params.searchWord&&(this.searchWord=this.$route.params.searchWord),this.historySearch=a.get("history_search").reverse()}},Yt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("search-bar",{ref:"searchBar",attrs:{holderWord:t.searchRecommend}}),t._v(" "),i("success-button",{staticClass:"search-btn",attrs:{text:"搜索"},on:{click:t.searchBtnClickAction}})],1),t._v(" "),i("div",{staticClass:"body-container"},[0!=t.filterSearchWord.length?i("div",{staticClass:"history-search"},[i("div",{staticClass:"history-search-head"},[i("p",[t._v("最近搜索")]),t._v(" "),i("div",{staticClass:"clear-history-search",on:{touchend:t.clearHistoryBtnTouchAction}})]),t._v(" "),i("div",{staticClass:"search-list"},t._l(t.historySearch,function(e,s){return i("span",{key:s,staticClass:"search-list-item",on:{click:function(i){return t.historyItemTouchAction(e,s)}}},[t._v(t._s(e[t.historySearch.length-s-1]))])}),0)]):t._e(),t._v(" "),i("div",{staticClass:"hot-search"},[i("p",[t._v("热门搜索")]),t._v(" "),i("div",{staticClass:"search-list"},t._l(t.hotSearch,function(e,s){return i("span",{key:s,staticClass:"search-list-item",on:{click:function(i){return t.$router.push({name:"SearchResult",params:{searchWord:e}})}}},[t._v(t._s(e))])}),0)])]),t._v(" "),t.showConfirmBox?i("confirm-box",{attrs:{message:"确定要清空吗？"},on:{confirmBoxEvent:t.confirmBoxEventAction}}):t._e()],1)},staticRenderFns:[]};var Xt=i("VU/8")(Ht,Yt,!1,function(t){i("4iYp")},"data-v-67a78fde",null).exports,Kt={name:"GoodsItem",props:{goods:{type:Object,required:!0}},components:{FormatPrice:$},data:function(){return{isColumnDirection:!1}},filters:{filterInteger:function(t){return t.toString().split(".")[0]},filterFloat:function(t){return t.toString().split(".")[1]}}},Qt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",class:{columnDirection:t.isColumnDirection},on:{click:function(e){return t.$router.push({name:"GoodsDetail",params:{id:t.goods.goodsId}})}}},[i("img",{staticClass:"goods-image",attrs:{src:t.goods.image}}),t._v(" "),i("div",{staticClass:"information"},[i("div",{staticClass:"name"},[t._v(t._s(t.goods.name))]),t._v(" "),i("div",{staticClass:"item-bottom-slide"},[i("div",{staticClass:"price"},[i("span",[t._v("￥")]),t._v(" "),i("span",{staticClass:"integer-price"},[t._v(t._s(t._f("filterInteger")(t.goods.price)))]),t._v(" "),i("span",{staticClass:"float-price"},[t._v("."+t._s(t._f("filterFloat")(t.goods.price)))])])])])])},staticRenderFns:[]};var Zt={name:"SearchResult",data:function(){return{goodsList:[],isChangeArranged:!1,isShowBackToTop:!1,showDropdownList:!1}},components:{GoBack:D,SearchBar:f,DropdownMenu:B,DropdownList:V,GoodsItem:i("VU/8")(Kt,Qt,!1,function(t){i("teCs")},"data-v-420d056c",null).exports},methods:{listenerScroll:function(){document.querySelector(".goods-item-container").scrollTop>350?this.isShowBackToTop=!0:this.isShowBackToTop=!1},backToTop:function(){var t=document.querySelector(".goods-item-container").scrollTop,e=setInterval(function(){document.querySelector(".goods-item-container").scrollTo(0,t-=60),t<=0&&clearInterval(e)},10)},changeArranged:function(){var t=this;this.isChangeArranged=!this.isChangeArranged,this.$refs.goodsitem.forEach(function(e){e.isColumnDirection=t.isChangeArranged})},openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList}},mounted:function(){var t=this;this.axios.get(this.$global.SERVER_IP+"/searchResult?key="+this.$route.params.searchWord).then(function(e){t.goodsList=e.data,t.$nextTick(function(){t.$refs.goodsitem.forEach(function(e){e.isColumnDirection=t.isChangeArranged}),a.get("scroll_position").length&&document.querySelector(".goods-item-container").scrollTo(0,a.get("scroll_position")[0][0])})}).catch(function(t){console.log(t)}),this.$refs.searchBar.searchWord=this.$route.params.searchWord,this.isChangeArranged=a.get("is_change_arranged")[0]||!1,document.querySelector(".goods-item-container").addEventListener("scroll",this.listenerScroll)},beforeRouteLeave:function(t,e,i){a.remove("is_change_arranged"),a.remove("scroll_position"),a.add("is_change_arranged",this.isChangeArranged),a.add("scroll_position",document.querySelector(".goods-item-container").scrollTop),i()}},te={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("div",{staticStyle:{flex:"1"},on:{touchend:function(e){return t.$router.push({name:"Search"})}}},[i("search-bar",{ref:"searchBar"})],1),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}}),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]})],1),t._v(" "),i("div",{staticClass:"goods-item-container",class:{columnArranged:t.isChangeArranged},on:{onscroll:t.listenerScroll}},t._l(t.goodsList,function(t,e){return i("goods-item",{key:e,ref:"goodsitem",refInFor:!0,staticClass:"goods-item",attrs:{goods:t}})}),1),t._v(" "),i("div",{staticClass:"sidebar-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackToTop,expression:"isShowBackToTop"}],staticClass:"to-top",on:{click:t.backToTop}}),t._v(" "),t.isChangeArranged?i("div",{staticClass:"change-arranged icon-row-arranged",on:{click:t.changeArranged}}):i("div",{staticClass:"change-arranged icon-column-arranged",on:{click:t.changeArranged}})])])},staticRenderFns:[]};var ee=i("VU/8")(Zt,te,!1,function(t){i("3DIN")},"data-v-6445383a",null).exports,ie={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"container"},[this._t("default")],2)},staticRenderFns:[]};var se={name:"Index",components:{GoBack:D,DropdownMenu:B,DropdownList:V,Swiper:w,GroupBox:x,ContainerBox:i("VU/8")({name:"ContainerBox"},ie,!1,function(t){i("B7Tv")},"data-v-47d3643a",null).exports,FormatPrice:$,NumberControl:O,SettlementBar:j,DefaultButton:X},data:function(){return{showTotal:!0,showDropdownList:!1,hideMoreStandard:!0,total:1,goods:{id:-1,name:"正在加载中哦~",price:0,standard:"未知",image:[],threeLevelClassify:-1,imageIntro:["../../../static/icon/loading.gif"]}}},methods:{openDropdownList:function(t){this.showDropdownList=t.isShowDropdownList},valueChangeAction:function(t){this.total=t.newvalue},addToShopcartAction:function(){this.$global.isLogin()||this.$router.push({name:"Login"});var t={id:this.goods.id,price:this.goods.price,total:this.total};this.$store.commit("pushItem",t),this.axios.post(this.$global.SERVER_IP+"/pushShopcartGoods",{goods:t,userId:1024}).then(function(t){console.log(JSON.parse(t.config.data))}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;this.$store.commit("emptyShopcart"),this.$global.isLogin()||(this.showTotal=!1),this.axios.get(this.$global.SERVER_IP+"/getGoodsItem/"+this.$route.params.id).then(function(e){t.goods=e.data,t.axios.get(t.$global.SERVER_IP+"/goodsDetailIntro/"+t.$route.params.id).then(function(e){t.goods.imageIntro=e.data,t.$forceUpdate()})}),this.axios.get(this.$global.SERVER_IP+"/shopcart/1024").then(function(e){e.data.forEach(function(e){t.$store.commit("pushItem",{id:e.id,price:e.price,total:e.total})})}).catch(function(t){console.log(t)})}},ne={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header-bar"},[i("go-back",{staticClass:"go-back"}),t._v(" "),i("div",{staticClass:"page-title"},[t._v("商品详情")]),t._v(" "),i("dropdown-menu",{staticClass:"dropdown-menu",on:{openDropdownList:t.openDropdownList}})],1),t._v(" "),i("dropdown-list",{directives:[{name:"show",rawName:"v-show",value:t.showDropdownList,expression:"showDropdownList"}]}),t._v(" "),i("div",{staticClass:"content-container"},[i("swiper",{attrs:{pictures:t.goods.image,config:{loop:!0,autoplay:!1}}}),t._v(" "),i("container-box",{staticClass:"container-box",staticStyle:{"padding-bottom":"1rem"}},[i("p",{staticClass:"goods-name"},[t._v(t._s(t.goods.name))]),t._v(" "),i("div",{staticClass:"price-slide"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("format-price",{attrs:{price:t.goods.price,integerStyle:{fontSize:"1.4rem"}}}),t._v(" "),i("span",{staticClass:"goods-standard"},[t._v("/ "+t._s(t.goods.standard))])],1),t._v(" "),i("number-control",{attrs:{value:t.total,minValue:"1"},on:{valueChange:t.valueChangeAction}})],1)]),t._v(" "),i("container-box",{staticClass:"container-box navigation-item",style:{paddingLeft:0,paddingRight:0}},[i("group-box",{style:{paddingLeft:0,paddingRight:0},attrs:{title:"商品详情"}},t._l(t.goods.imageIntro,function(t,e){return i("img",{key:e,staticClass:"image-intro",attrs:{src:t}})}),0)],1)],1),t._v(" "),i("settlement-bar",{attrs:{showPrice:!1,showTotal:t.showTotal}},[i("default-button",{staticClass:"add-to-shopcart",attrs:{text:"加入购物车"},on:{click:t.addToShopcartAction}}),t._v(" "),i("default-button",{staticClass:"go-to-shopcart",attrs:{text:"去购物车"},on:{click:function(e){return t.$router.push({name:"Shopcart"})}}})],1)],1)},staticRenderFns:[]};var oe=i("VU/8")(se,ne,!1,function(t){i("ntDl")},"data-v-f6f4f4cc",null).exports;s.a.use(h.a);var ae=new h.a({routes:[{name:"Index",path:"/index",component:A},{name:"Classify",path:"/classify",component:Wt},{name:"Shopcart",path:"/shopcart",component:ct},{name:"My",path:"/my",component:ht},{name:"Login",path:"/login",component:gt},{name:"Register",path:"/register",component:It},{name:"UserCenter",path:"/user-center",component:At},{name:"Search",path:"/search",component:Xt},{name:"SearchResult",path:"/search/:searchWord",component:ee},{name:"GoodsDetail",path:"/goods-detail/:id",component:oe},{path:"/",redirect:"/index"}]}),re=i("mtWM"),ce=i.n(re),le=i("Rf8U"),de=i.n(le),ue={SERVER_IP:"https://www.easy-mock.com/mock/5c9441d48e9d1050205520bd/sjmall",isLogin:function(){return JSON.parse(a.get("is_login")[0][0])}};s.a.use(de.a,ce.a),s.a.config.productionTip=!1,s.a.prototype.$global=ue,new s.a({el:"#app",store:u,router:ae,components:{App:l},template:"<App/>"})},O38C:function(t,e){},RCih:function(t,e){},SXGd:function(t,e){},V1O7:function(t,e){},Xxj6:function(t,e){},aJ8p:function(t,e){},ecIi:function(t,e){},jqJo:function(t,e){},"k6+P":function(t,e){},ntDl:function(t,e){},ofsJ:function(t,e){},on4Y:function(t,e){},pLQW:function(t,e){},qZHD:function(t,e){},rO9z:function(t,e){},rS1E:function(t,e){},t2e1:function(t,e){},tULn:function(t,e){},teCs:function(t,e){},v2ns:function(t,e){},zODf:function(t,e){},zkIZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c7a9d4bf916dcab96cce.js.map